import{CSM_ASSERT,CubismLogError}from"../utils/cubismdebug";import{CubismModel}from"./cubismmodel";class CubismMoc{static create(e,o){let s=null;if(o&&!this.hasMocConsistency(e))return CubismLogError("Inconsistent MOC3."),s;o=Live2DCubismCore.Moc.fromArrayBuffer(e);return o&&((s=new CubismMoc(o))._mocVersion=Live2DCubismCore.Version.csmGetMocVersion(o,e)),s}static delete(e){e._moc._release(),e._moc=null}createModel(){let e=null;var o=Live2DCubismCore.Model.fromMoc(this._moc);return o&&((e=new CubismModel(o)).initialize(),++this._modelCount),e}deleteModel(e){null!=e&&(e.release(),e=null,--this._modelCount)}constructor(e){this._moc=e,this._modelCount=0,this._mocVersion=0}release(){CSM_ASSERT(0==this._modelCount),this._moc._release(),this._moc=null}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(e){return 1===Live2DCubismCore.Moc.prototype.hasMocConsistency(e)}}import*as $ from"./cubismmoc";var Live2DCubismFramework;(Live2DCubismFramework=Live2DCubismFramework||{}).CubismMoc=$.CubismMoc;export{CubismMoc,Live2DCubismFramework};
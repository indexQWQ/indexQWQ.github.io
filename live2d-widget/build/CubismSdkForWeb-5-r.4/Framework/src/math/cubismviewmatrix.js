import{CubismMatrix44}from"./cubismmatrix44";class CubismViewMatrix extends CubismMatrix44{constructor(){super(),this._screenLeft=0,this._screenRight=0,this._screenTop=0,this._screenBottom=0,this._maxLeft=0,this._maxRight=0,this._maxTop=0,this._maxBottom=0,this._maxScale=0,this._minScale=0}adjustTranslate(t,i){this._tr[0]*this._maxLeft+(this._tr[12]+t)>this._screenLeft&&(t=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+t)<this._screenRight&&(t=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+i)<this._screenTop&&(i=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+i)>this._screenBottom&&(i=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1]);CubismMatrix44.multiply(t,this._tr,this._tr)}adjustScale(t,i,e){var s=this.getMaxScale(),r=this.getMinScale(),h=e*this._tr[0],r=(h<r?0<this._tr[0]&&(e=r/this._tr[0]):s<h&&0<this._tr[0]&&(e=s/this._tr[0]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,i,0,1])),h=new Float32Array([e,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]),s=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-t,-i,0,1]);CubismMatrix44.multiply(s,this._tr,this._tr),CubismMatrix44.multiply(h,this._tr,this._tr),CubismMatrix44.multiply(r,this._tr,this._tr)}setScreenRect(t,i,e,s){this._screenLeft=t,this._screenRight=i,this._screenBottom=e,this._screenTop=s}setMaxScreenRect(t,i,e,s){this._maxLeft=t,this._maxRight=i,this._maxTop=s,this._maxBottom=e}setMaxScale(t){this._maxScale=t}setMinScale(t){this._minScale=t}getMaxScale(){return this._maxScale}getMinScale(){return this._minScale}isMaxScale(){return this.getScaleX()>=this._maxScale}isMinScale(){return this.getScaleX()<=this._minScale}getScreenLeft(){return this._screenLeft}getScreenRight(){return this._screenRight}getScreenBottom(){return this._screenBottom}getScreenTop(){return this._screenTop}getMaxLeft(){return this._maxLeft}getMaxRight(){return this._maxRight}getMaxBottom(){return this._maxBottom}getMaxTop(){return this._maxTop}}import*as $ from"./cubismviewmatrix";var Live2DCubismFramework;(Live2DCubismFramework=Live2DCubismFramework||{}).CubismViewMatrix=$.CubismViewMatrix;export{CubismViewMatrix,Live2DCubismFramework};